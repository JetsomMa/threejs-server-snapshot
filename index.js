var t=require("express"),o=require("fs"),c=require("path"),b=require("cors"),l=require("body-parser"),e=t(),r=19e3;e.use(l.json({limit:"2mb"}));e.use(l.urlencoded({limit:"2mb",extended:!0}));e.use(t.static(c.join(__dirname,"public")));e.use(t.json());e.use(b());e.post("/save",(s,n)=>{let u=s.body.image.replace(/^data:image\/jpeg;base64,/,""),m=s.body.fileName,d=s.body.imageName,i=c.join(__dirname,"./public","images",m);o.existsSync(i)||o.mkdirSync(i,{recursive:!0}),o.writeFile(i+"/"+d,u,"base64",a=>{a?(console.error(a),n.status(500).send("Error saving file")):n.send("File saved successfully")})});e.listen(r,()=>{console.log(`Server running on http://localhost:${r}/web/index.html`)});
